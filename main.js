!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__form-input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t={cardSection:".cards__list",cardTemplate:"#card__template",cardPreviewPopup:"#card-modal-image",profilePopup:"#profile-eidit-modal",cardAddModal:"#card-add-modal",cardDeleteModal:"#delet-comfirm-modal",editAvatarModal:"#edit-avatar-modal"},r=(document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector("#profile__title-input")),s=document.querySelector("#profile__description-input"),i=document.querySelector(".profile__edit"),n=document.querySelector("#card__add-button"),o=(document.querySelector("#card__title-input"),document.querySelector("#card__link-input"),document.querySelector(".profile__avatar-edit"));function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=class{constructor(e,t){let{cardData:r,userId:s,handleImageClick:i,handleDeleteClick:n,handleCardLikes:o}=e;l(this,"getCardId",(()=>this._id)),l(this,"removeCard",(()=>{this._element.remove(),this._element=null})),this._link=r.link,this._title=r.name,this._userId=s,this._ownerId=r.owner._id,this._id=r._id,this._likes=r.likes,this._cardSelector=t,this._handleImageClick=i,this._handleDeleteClick=n,this._handleCardLikes=o}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_handlePreview(){this._handleImageClick(this._title,this._link)}setLikes(e){this._likes=e,this._renderLikes()}isLiked(){return this._likes.some((e=>e._id===this._userId))}_renderLikes(){this._cardLikeCount.textContent=this._likes.length||"",this.isLiked()?this._cardLikeButton.classList.add("card__like-button_toggle"):this._cardLikeButton.classList.remove("card__like-button_toggle")}_setEventListeners(){this._element.querySelector(".card__like-button").addEventListener("click",(()=>this._handleCardLikes())),this._element.querySelector(".card__image").addEventListener("click",(()=>this._handlePreview())),this._element.querySelector("#card-remove-button").addEventListener("click",(()=>this._handleDeleteClick()))}getView(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardImage=this._element.querySelector(".card__image"),this._cardTitle=this._element.querySelector(".card__title"),this._cardLikeButton=this._element.querySelector(".card__like-button"),this._cardRemoveButton=this._element.querySelector("#card-remove-button"),this._cardLikeCount=this._element.querySelector(".card__like-count"),this._cardImage.alt=this._title,this._cardImage.src=this._link,this._cardTitle.textContent=this._title,this._renderLikes(),this._userId!==this._ownerId?this._cardRemoveButton.remove():this._element}};class c{constructor(e,t){let{items:r,renderer:s}=e;this._renderer=s,this._items=r,this._container=document.querySelector(t)}renderItems(){this._items.forEach(this._renderer)}addItem(e){this._container.prepend(e)}}var u=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent=" ",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._form.addEventListener("reset",(()=>{setTimeout((()=>{this._toggleButtonState()}))})),this._disableButton(),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};class h{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){27===e.which&&this.close()}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close"))&&this.close()}))}}class _ extends h{constructor(e){let{popupSelector:t,handleFormSubmit:r}=e;super(t),this._modalForm=this._popupElement.querySelector(".modal__form"),this._formInputs=this._modalForm.querySelectorAll(".modal__form-input"),this._handleFormSubmit=r,this._submitButtonEl=this._modalForm.querySelector(".modal__form-save"),this._submitButtonText=this._submitButtonEl.textContent}_getInputValues(){const e={};return this._formInputs.forEach((t=>{e[t.name]=t.value})),e}renderLoading(e){this._submitButtonEl.textContent=e?"Saving...":this._submitButtonText}close(){this._modalForm.reset(),super.close()}setEventListeners(){super.setEventListeners(),this._modalForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t)}))}}const m=document.querySelector("#profile-eidit-modal"),p=document.querySelector("#card-add-form"),v=document.querySelector("#edit-avatar-modal"),b=new u(e,m),f=new u(e,p),S=new u(e,v),y=new class{constructor(e){let{baseUrl:t,headers:r}=e;a(this,"getUserInfo",(async()=>{const e=await fetch(`${this._baseUrl}/users/me`,{headers:this._headers});return this._handleResponse(e)})),a(this,"getInitialCards",(async()=>{const e=await fetch(`${this._baseUrl}/cards`,{headers:this._headers});return this._handleResponse(e)})),a(this,"editUserInfo",(async e=>{let{name:t,about:r}=e;const s=await fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})});return this._handleResponse(s)})),a(this,"setUserAvatar",(async e=>{let{avatar:t}=e;const r=await fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})});return this._handleResponse(r)})),a(this,"addCard",(async e=>{let{name:t,link:r}=e;const s=await fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})});return this._handleResponse(s)})),a(this,"deleteCardById",(async e=>{const t=await fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers,body:JSON.stringify({id:e})});return this._handleResponse(t)})),a(this,"changeCardLikeStatus",(async(e,t)=>{const r=await fetch(`${this._baseUrl}/cards/likes/${e}`,{method:t?"PUT":"DELETE",headers:this._headers,body:JSON.stringify({like:t})});return this._handleResponse(r)})),this._baseUrl=t,this._headers=r}_handleResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status} ${e.statusText}`)}_handleResponseError(e){console.log(`Error processing request ${e}`)}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"02d7aa0c-331f-4762-a83f-c73224dbaeb3","Content-Type":"application/json"}});function E(e,r){const s=new d({cardData:e,userId:r,handleImageClick:()=>{L.open(e)},handleDeleteClick:()=>{const e=s.getCardId();k.open(),k.setSubmitAction((()=>{k.renderLoading(!0),y.deleteCardById(e).then((()=>{s.removeCard(),k.close()})).catch((e=>console.error(e))).finally((()=>k.renderLoading(!1)))}))},handleCardLikes:()=>{y.changeCardLikeStatus(s.getCardId(),!s.isLiked()).then((e=>{s.setLikes(e.likes)})).catch((e=>console.error(e)))}},t.cardTemplate);return s.getView()}let g;y.getAppInfo().then((e=>{let[r,s]=e;I.setUserInfo({name:r.name,about:r.about});const i=r.avatar;I.setAvatar(i);const n=r._id;g=new c({items:s,renderer:e=>{const t=E(e,n);g.addItem(t)}},t.cardSection),g.renderItems()})).catch((e=>{console.error(e)}));const L=new class extends h{constructor(e){super(e),this._imageElement=this._popupElement.querySelector(".modal__image-card"),this._imageCaption=this._popupElement.querySelector(".modal__caption-card")}open(e){let{name:t,link:r}=e;this._imageElement.alt=t,this._imageCaption.textContent=t,this._imageElement.src=r,super.open()}}(t.cardPreviewPopup),C=new _({popupSelector:t.cardAddModal,handleFormSubmit:e=>{C.renderLoading(!0),y.addCard(e).then((e=>{const t=E(e,e.owner._id);g.addItem(t),C.close()})).catch((e=>console.log(e))).finally((()=>C.renderLoading(!1)))}}),k=new class extends h{constructor(e){super(e),this._modalElement=document.querySelector(e),this._submitButton=this._modalElement.querySelector(".modal__form-save")}renderLoading(e){this._submitButton.textContent=e?"Deleting...":"Yes"}setSubmitAction(e){this._submitButton.addEventListener("click",e)}setEventListeners(){super.setEventListeners()}}(t.cardDeleteModal),I=new class{constructor(e){let{nameSelector:t,jobSelector:r,avatarSelector:s}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(r),this._avatarElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,about:this._jobElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){let{name:t,about:r}=e;this._nameElement.textContent=t,this._jobElement.textContent=r}setAvatar(e){this._avatarElement.src=e}}({nameSelector:".profile__title",jobSelector:".profile__description",avatarSelector:".profile__avatar"}),q=new _({popupSelector:t.profilePopup,handleFormSubmit:e=>{q.renderLoading(!0),y.editUserInfo(e).then((e=>{I.setUserInfo({name:e.name,about:e.about,avatar:e.avatar}),q.close()})).catch((e=>console.error(e))).finally((()=>q.renderLoading(!1)))}}),w=new _({popupSelector:t.editAvatarModal,handleFormSubmit:e=>{w.renderLoading(!0),y.setUserAvatar(e).then((e=>{I.setAvatar(e),w.close()})).catch((e=>{console.log(e)})).finally((()=>w.renderLoading(!1)))}});i.addEventListener("click",(()=>{const{name:e,about:t}=I.getUserInfo();(e=>{let{name:t,about:i}=e;r.value=t,s.value=i})({name:e,about:t}),q.open()})),n.addEventListener("click",(()=>{C.open()})),o.addEventListener("click",(()=>{w.open()})),C.setEventListeners(),k.setEventListeners(),L.setEventListeners(),q.setEventListeners(),w.setEventListeners(),b.enableValidation(),f.enableValidation(),S.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFtQk8sZ0JBQ2xDZ0gsaUJBQW1Cc0MsSUFDakJzRCxFQUFnQmpGLGVBQWMsR0FDOUJZLEVBQ0dzRSxjQUFjdkQsR0FDZDBCLE1BQU0xQixJQUNMa0MsRUFBU0UsVUFBVXBDLEdBQ25Cc0QsRUFBZ0JuRyxPQUFPLElBRXhCeUUsT0FBT2pCLElBQ05DLFFBQVFDLElBQUlGLEVBQUksSUFFakJtQixTQUFRLElBQU13QixFQUFnQmpGLGVBQWMsSUFBTyxJQU0xRHRILEVBQWtCNkMsaUJBQWlCLFNBQVMsS0FDMUMsTUFBTSxLQUFFMUIsRUFBSSxNQUFFd0gsR0FBVXdDLEVBQVNsQixjQTVDWHJCLEtBQXFCLElBQXBCLEtBQUV6SCxFQUFJLE1BQUV3SCxHQUFPQyxFQUN0Q2hKLEVBQWtCeUgsTUFBUWxHLEVBQzFCcEIsRUFBd0JzSCxNQUFRc0IsQ0FBSyxFQTJDckM4RCxDQUFnQixDQUFFdEwsT0FBTXdILFVBQ3hCd0QsRUFBcUI5RixNQUFNLElBRzdCcEcsRUFBYzRDLGlCQUFpQixTQUFTLEtBQ3RDMkksRUFBaUJuRixNQUFNLElBR3pCbkcsRUFBZTJDLGlCQUFpQixTQUFTLEtBQ3ZDMEosRUFBZ0JsRyxNQUFNLElBS3hCbUYsRUFBaUJqRixvQkFDakJpRSxFQUFrQmpFLG9CQUNsQmhILEVBQWlCZ0gsb0JBQ2pCNEYsRUFBcUI1RixvQkFDckJnRyxFQUFnQmhHLG9CQUloQnVCLEVBQWtCbkMsbUJBQ2xCcUMsRUFBaUJyQyxtQkFDakJzQyxFQUF3QnRDLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2h1ZXBoYW15Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9raHVlcGhhbXkvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2todWVwaGFteS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8va2h1ZXBoYW15Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9raHVlcGhhbXkvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9raHVlcGhhbXkvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL2todWVwaGFteS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9raHVlcGhhbXkvLi9zcmMvdXRpbHMvQXBpLmpzIiwid2VicGFjazovL2todWVwaGFteS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL2todWVwaGFteS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9raHVlcGhhbXkvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRVNDX0tFWUNPREUgPSAyNztcblxuZXhwb3J0IGNvbnN0IEJBU0VfVVJMID0gXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCI7XG5leHBvcnQgY29uc3QgQVVUSF9UT0tFTiA9IFwiMDJkN2FhMGMtMzMxZi00NzYyLWE4M2YtYzczMjI0ZGJhZWIzXCI7XG5cbmV4cG9ydCBjb25zdCBIRUFERVJTID0ge1xuICBhdXRob3JpemF0aW9uOiBBVVRIX1RPS0VOLFxuICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbn07XG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgdGl0bGU6IFwiV2V0dGVyaG9yblwiLFxuXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU2NzAxNzQ2OTU1My1kMWIyMTlhZjU4MzE/aXhsaWI9cmItNC4wLjMmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh6WldGeVkyaDhNM3g4YzNkcGRIcGxjbXhoYm1RbE1qQnRiM1Z1ZEdGcGJuTjhaVzU4TUh4OE1IeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz01MDAmcT02MFwiLFxuICB9LFxuXG4gIHtcbiAgICB0aXRsZTogXCJMYWd1bmEgYmVhY2hcIixcblxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MTk4NjU4ODU4OTgtYTU0YTZmMmM3ZWVhP2l4bGliPXJiLTQuMC4zJml4aWQ9TW53eE1qQTNmREI4TUh4elpXRnlZMmg4TTN4OGMzQnNZWE5vZkdWdWZEQjhmREI4ZkElM0QlM0QmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz01MDAmcT02MFwiLFxuICB9LFxuXG4gIHtcbiAgICB0aXRsZTogXCJOZXcgWW9yayBDaXR5XCIsXG5cbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjcxODMxODE3MDk2LTdlNjM1ZDExMzI2MD9peGxpYj1yYi00LjAuMyZpeGlkPU1ud3hNakEzZkRCOE1IeGxlSEJzYjNKbExXWmxaV1I4TkRKOGZIeGxibnd3Zkh4OGZBJTNEJTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NTAwJnE9NjBcIixcbiAgfSxcblxuICB7XG4gICAgdGl0bGU6IFwiU2VjZWRhc1wiLFxuXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTY3MTY0NDEwMDM1OC01ZWEzOGUxYjE4ODU/aXhsaWI9cmItNC4wLjMmaXhpZD1Nbnd4TWpBM2ZEQjhNSHhsZUhCc2IzSmxMV1psWldSOE56WjhmSHhsYm53d2ZIeDhmQSUzRCUzRCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTUwMCZxPTYwXCIsXG4gIH0sXG5cbiAge1xuICAgIHRpdGxlOiBcIkF2YXRhciBNb3VudGFpbnNcIixcblxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NjcyNjY1NjUyNDUtYzA4ZGMwNDY4MTVmP2l4bGliPXJiLTQuMC4zJml4aWQ9TW53eE1qQTNmREI4TUh4elpXRnlZMmg4Tkh4OFkyaHBibVZ6WlNVeU1HMXZkVzUwWVdsdWZHVnVmREI4ZkRCOGZBJTNEJTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NTAwJnE9NjBcIixcbiAgfSxcblxuICB7XG4gICAgdGl0bGU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG5cbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLWlucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGNvbnRhaW5lclNlbGVjdG9ycyA9IHtcbiAgY2FyZFNlY3Rpb246IFwiLmNhcmRzX19saXN0XCIsXG4gIGNhcmRUZW1wbGF0ZTogXCIjY2FyZF9fdGVtcGxhdGVcIixcbiAgY2FyZFByZXZpZXdQb3B1cDogXCIjY2FyZC1tb2RhbC1pbWFnZVwiLFxuICBwcm9maWxlUG9wdXA6IFwiI3Byb2ZpbGUtZWlkaXQtbW9kYWxcIixcbiAgY2FyZEFkZE1vZGFsOiBcIiNjYXJkLWFkZC1tb2RhbFwiLFxuICBjYXJkRGVsZXRlTW9kYWw6IFwiI2RlbGV0LWNvbWZpcm0tbW9kYWxcIixcbiAgZWRpdEF2YXRhck1vZGFsOiBcIiNlZGl0LWF2YXRhci1tb2RhbFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGVfX3RpdGxlLWlucHV0XCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlX19kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0XCIpO1xuXG5leHBvcnQgY29uc3QgY2FyZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZF9fYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBjYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZF9fdGl0bGUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgY2FyZEltYWdlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRfX2xpbmstaW5wdXRcIik7XG5cbmV4cG9ydCBjb25zdCBlZGl0QXZhdGFySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWVkaXRcIik7XG4iLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgeyBjYXJkRGF0YSwgdXNlcklkLCBoYW5kbGVJbWFnZUNsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlQ2FyZExpa2VzIH0sXG4gICAgY2FyZFNlbGVjdG9yXG4gICkge1xuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX3RpdGxlID0gY2FyZERhdGEubmFtZTtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGNhcmREYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl9pZCA9IGNhcmREYXRhLl9pZDtcbiAgICB0aGlzLl9saWtlcyA9IGNhcmREYXRhLmxpa2VzO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcblxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2VzID0gaGFuZGxlQ2FyZExpa2VzO1xuICB9XG5cbiAgZ2V0Q2FyZElkID0gKCkgPT4gdGhpcy5faWQ7XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZFRlbXBsYXRlO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9O1xuXG4gIF9oYW5kbGVQcmV2aWV3KCkge1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fdGl0bGUsIHRoaXMuX2xpbmspO1xuICB9XG5cbiAgc2V0TGlrZXMobGlrZXMpIHtcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgfVxuXG4gIF9yZW5kZXJMaWtlcygpIHtcbiAgICB0aGlzLl9jYXJkTGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoIHx8IFwiXCI7XG5cbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl90b2dnbGVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl90b2dnbGVcIik7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRMaWtlcygpKTtcblxuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZVByZXZpZXcoKSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIiNjYXJkLXJlbW92ZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soKSk7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkUmVtb3ZlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtcmVtb3ZlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkTGlrZUNvdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIik7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fdGl0bGU7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XG5cbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSBkZWxldGUgYnV0dG9uIGZyb20gdGhlIEFQSSBpbWFnZXNcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FyZFJlbW92ZUJ1dHRvbi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiY2xhc3MgRm9ybVZhbGlkYXRpb3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcblxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiIFwiO1xuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gIXRoaXMuX2lucHV0RWxlbWVudHMuZXZlcnkoXG4gICAgICAoaW5wdXRFbGVtZW50KSA9PiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcbiAgICApO1xuICB9XG5cbiAgX2Rpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICAgIH1cblxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG5cbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0aW9yO1xuIiwiaW1wb3J0IHsgRVNDX0tFWUNPREUgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQud2hpY2ggPT09IEVTQ19LRVlDT0RFKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIC8vIEFsbCB0aGUgaW5wdXQgZmllbGQgY2xhc3NlcyBmcm9tIGZvcm1zXG4gICAgdGhpcy5fZm9ybUlucHV0cyA9IHRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19mb3JtLWlucHV0XCIpO1xuXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWwgPSB0aGlzLl9tb2RhbEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybS1zYXZlXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b25FbC50ZXh0Q29udGVudDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWwudGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbC50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQ7XG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fbW9kYWxGb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgZm9ybUlucHV0cyA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KGZvcm1JbnB1dHMpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG4vLyBJbXBvcnQgYWxsIHRoZSBjbGFzc2VzXG5pbXBvcnQge1xuICBjb250YWluZXJTZWxlY3RvcnMsXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgcHJvZmlsZVRpdGxlSW5wdXQsXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgY2FyZEFkZEJ1dHRvbixcbiAgZWRpdEF2YXRhckljb24sXG4gIEJBU0VfVVJMLFxuICBIRUFERVJTLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XG5cbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaVwiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvblwiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvXCJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3JcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1cIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZVwiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb25cIjtcblxuLy8gLS0tLS0tLS0tLS0gRm9ybSBWYWxpZGF0b3IgVmFyaWFibGVzIC0tLS0tLS0tLS0tLS0gLy9cblxuY29uc3QgZWRpdEZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVpZGl0LW1vZGFsXCIpO1xuY29uc3QgYWRkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtYWRkLWZvcm1cIik7XG5jb25zdCBlZGl0QXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1hdmF0YXItbW9kYWxcIik7XG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcbiAgZWRpdEZvcm1FbGVtZW50XG4pO1xuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgYWRkRm9ybUVsZW1lbnQpO1xuY29uc3QgZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBlZGl0QXZhdGFyRWxlbWVudFxuKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLSBDcmVhdGUgQVBJIGluc3RhbmNlcyAtLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IEJBU0VfVVJMLFxuICBoZWFkZXJzOiBIRUFERVJTLFxufSk7XG5cbi8vIC0tLS0tLS0tLS0tLS1DcmVhdGUgaW5zdGFuY2VzIGZvciBjYXJkLVNlY3Rpb24tLS0tLS0tLS0tLS0tLS0tIC8vXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhLCB1c2VySWQpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIGNhcmREYXRhOiBjYXJkRGF0YSxcbiAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgaGFuZGxlSW1hZ2VDbGljazogKCkgPT4ge1xuICAgICAgICBjYXJkUHJldmlld1BvcHVwLm9wZW4oY2FyZERhdGEpO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZURlbGV0ZUNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gY2FyZC5nZXRDYXJkSWQoKTtcbiAgICAgICAgY29tZmlybWF0aW9uUG9wdXAub3BlbigpO1xuICAgICAgICBjb21maXJtYXRpb25Qb3B1cC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIGNvbWZpcm1hdGlvblBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgYXBpXG4gICAgICAgICAgICAuZGVsZXRlQ2FyZEJ5SWQoaWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgICBjb21maXJtYXRpb25Qb3B1cC5jbG9zZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiBjb21maXJtYXRpb25Qb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZUNhcmRMaWtlczogKCkgPT4ge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuY2hhbmdlQ2FyZExpa2VTdGF0dXMoY2FyZC5nZXRDYXJkSWQoKSwgIWNhcmQuaXNMaWtlZCgpKVxuICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY2FyZC5zZXRMaWtlcyhyZXNwb25zZS5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjb250YWluZXJTZWxlY3RvcnMuY2FyZFRlbXBsYXRlXG4gICk7XG5cbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufVxuXG5sZXQgY2FyZFNlY3Rpb247XG5cbmFwaVxuICAuZ2V0QXBwSW5mbygpXG4gIC50aGVuKChbdXNlciwgY2FyZHNdKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgYWJvdXQ6IHVzZXIuYWJvdXQsXG4gICAgfSk7XG5cbiAgICBjb25zdCBhdmF0YXIgPSB1c2VyLmF2YXRhcjtcbiAgICB1c2VySW5mby5zZXRBdmF0YXIoYXZhdGFyKTtcblxuICAgIGNvbnN0IHVzZXJJZCA9IHVzZXIuX2lkO1xuICAgIGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAgICB7XG4gICAgICAgIGl0ZW1zOiBjYXJkcyxcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGNhcmREYXRhLCB1c2VySWQpO1xuICAgICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY29udGFpbmVyU2VsZWN0b3JzLmNhcmRTZWN0aW9uXG4gICAgKTtcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSk7XG5cbmNvbnN0IGNhcmRQcmV2aWV3UG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXG4gIGNvbnRhaW5lclNlbGVjdG9ycy5jYXJkUHJldmlld1BvcHVwXG4pO1xuXG5jb25zdCBjYXJkQWRkRm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBjb250YWluZXJTZWxlY3RvcnMuY2FyZEFkZE1vZGFsLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoY2FyZERhdGEpID0+IHtcbiAgICBjYXJkQWRkRm9ybVBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgYXBpXG4gICAgICAuYWRkQ2FyZChjYXJkRGF0YSlcbiAgICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChjYXJkRGF0YSwgY2FyZERhdGEub3duZXIuX2lkKTtcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShuZXdDYXJkKTtcbiAgICAgICAgY2FyZEFkZEZvcm1Qb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgICAgLmZpbmFsbHkoKCkgPT4gY2FyZEFkZEZvcm1Qb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG4gIH0sXG59KTtcblxuY29uc3QgY29tZmlybWF0aW9uUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxuICBjb250YWluZXJTZWxlY3RvcnMuY2FyZERlbGV0ZU1vZGFsXG4pO1xuXG4vLyAtLS0tLS0tQ3JlYXRlIGluc3RhbmNlcyBvZiB0aGUgY2xhc3NlcyBmb3Igb3RoZXJzLS0tLS0tLS0gLy9cblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXG59KTtcblxuY29uc3QgZmlsbFByb2ZpbGVGb3JtID0gKHsgbmFtZSwgYWJvdXQgfSkgPT4ge1xuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gYWJvdXQ7XG59O1xuXG5jb25zdCBwcm9maWxlRWRpdEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogY29udGFpbmVyU2VsZWN0b3JzLnByb2ZpbGVQb3B1cCxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBwcm9maWxlRWRpdEZvcm1Qb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpXG4gICAgYXBpXG4gICAgICAuZWRpdFVzZXJJbmZvKGRhdGEpXG4gICAgICAudGhlbigodXNlckRhdGEpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICAgICAgYWJvdXQ6IHVzZXJEYXRhLmFib3V0LFxuICAgICAgICAgIGF2YXRhcjogdXNlckRhdGEuYXZhdGFyLFxuICAgICAgICB9KTtcbiAgICAgICAgcHJvZmlsZUVkaXRGb3JtUG9wdXAuY2xvc2UoKVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG4gICAgICAuZmluYWxseSgoKSA9PiBwcm9maWxlRWRpdEZvcm1Qb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG4gIH0sXG59KTtcblxuY29uc3QgYXZhdGFyRm9ybU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBjb250YWluZXJTZWxlY3RvcnMuZWRpdEF2YXRhck1vZGFsLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoYXZhdGFyKSA9PiB7XG4gICAgYXZhdGFyRm9ybU1vZGFsLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgYXBpXG4gICAgICAuc2V0VXNlckF2YXRhcihhdmF0YXIpXG4gICAgICAudGhlbigoYXZhdGFyKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihhdmF0YXIpO1xuICAgICAgICBhdmF0YXJGb3JtTW9kYWwuY2xvc2UoKVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4gYXZhdGFyRm9ybU1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpKTtcbiAgfSxcbn0pO1xuXG4vLyAtLS0tLS0tLS0tQ2xpY2sgdG8gT3BlbiBNb2RhbC0tLS0tLS0tLS0gLy9cblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgZmlsbFByb2ZpbGVGb3JtKHsgbmFtZSwgYWJvdXQgfSk7XG4gIHByb2ZpbGVFZGl0Rm9ybVBvcHVwLm9wZW4oKTtcbn0pO1xuXG5jYXJkQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNhcmRBZGRGb3JtUG9wdXAub3BlbigpO1xufSk7XG5cbmVkaXRBdmF0YXJJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhckZvcm1Nb2RhbC5vcGVuKCk7XG59KTtcblxuLy8gLS0tLS0tSW5pdGlhbGl6ZSBhbGwgbXkgaW5zdGFuY2VzLS0tLS0tLSAvL1xuXG5jYXJkQWRkRm9ybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jb21maXJtYXRpb25Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuY2FyZFByZXZpZXdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xucHJvZmlsZUVkaXRGb3JtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmF2YXRhckZvcm1Nb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyAtLS0tLS0tLS0tLS1Gb3JtIFZhbGlkYXRpb24tLS0tLS0tLS0tLS0tLS0gLy9cblxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5lZGl0QXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLm9rXG4gICAgICA/IHJlc3BvbnNlLmpzb24oKVxuICAgICAgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICBfaGFuZGxlUmVzcG9uc2VFcnJvcihlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhgRXJyb3IgcHJvY2Vzc2luZyByZXF1ZXN0ICR7ZXJyfWApO1xuICB9XG5cbiAgLy8gR0VUOiBnZXQgQXBwIERhdGEgKGNhcmRMaXN0LCB1c2VyRGF0YSlcbiAgZ2V0QXBwSW5mbygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pO1xuICB9XG5cbiAgLy8gR0VUOiBVc2VyIEluZm8gUHJvZmlsZVxuICBnZXRVc2VySW5mbyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICB9O1xuXG4gIGdldEluaXRpYWxDYXJkcyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSk7XG4gIH07XG5cbiAgLy8gUEFUQ0g6IEVkaXQgVXNlciBJbmZvXG4gIGVkaXRVc2VySW5mbyA9IGFzeW5jICh7IG5hbWUsIGFib3V0IH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSk7XG4gIH07XG5cbiAgc2V0VXNlckF2YXRhciA9IGFzeW5jICh7IGF2YXRhciB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSk7XG4gIH07XG5cbiAgYWRkQ2FyZCA9IGFzeW5jICh7IG5hbWUsIGxpbmsgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSk7XG4gIH07XG5cbiAgZGVsZXRlQ2FyZEJ5SWQgPSBhc3luYyAoaWQpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgaWQsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICB9O1xuXG4gIGNoYW5nZUNhcmRMaWtlU3RhdHVzID0gYXN5bmMgKGNhcmRJZCwgbGlrZSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBsaWtlID8gXCJQVVRcIiA6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBsaWtlLFxuICAgICAgfSksXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgfTtcbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXJkXCIpO1xuICAgIHRoaXMuX2ltYWdlQ2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX2NhcHRpb24tY2FyZFwiXG4gICAgKTtcbiAgfVxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IG5hbWU7XG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gbGluaztcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtLXNhdmVcIik7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRpbmcuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJZZXNcIjtcbiAgICB9XG4gIH1cblxuICBzZXRTdWJtaXRBY3Rpb24oaGFuZGxlU3VibWl0KSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVTdWJtaXQpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjLFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0O1xuICB9XG5cbiAgc2V0QXZhdGFyKGF2YXRhcikge1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iXSwibmFtZXMiOlsidmFsaWRhdGlvblNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJjb250YWluZXJTZWxlY3RvcnMiLCJjYXJkU2VjdGlvbiIsImNhcmRUZW1wbGF0ZSIsImNhcmRQcmV2aWV3UG9wdXAiLCJwcm9maWxlUG9wdXAiLCJjYXJkQWRkTW9kYWwiLCJjYXJkRGVsZXRlTW9kYWwiLCJlZGl0QXZhdGFyTW9kYWwiLCJwcm9maWxlVGl0bGVJbnB1dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUVkaXRCdXR0b24iLCJjYXJkQWRkQnV0dG9uIiwiZWRpdEF2YXRhckljb24iLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJjYXJkRGF0YSIsInVzZXJJZCIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUNhcmRMaWtlcyIsIl9kZWZpbmVQcm9wZXJ0eSIsInRoaXMiLCJfaWQiLCJfZWxlbWVudCIsInJlbW92ZSIsIl9saW5rIiwibGluayIsIl90aXRsZSIsIm5hbWUiLCJfdXNlcklkIiwiX293bmVySWQiLCJvd25lciIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUNhcmRMaWtlcyIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfaGFuZGxlUHJldmlldyIsInNldExpa2VzIiwiX3JlbmRlckxpa2VzIiwiaXNMaWtlZCIsInNvbWUiLCJsaWtlIiwiX2NhcmRMaWtlQ291bnQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl9jYXJkTGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRWaWV3IiwiX2NhcmRJbWFnZSIsIl9jYXJkVGl0bGUiLCJfY2FyZFJlbW92ZUJ1dHRvbiIsImFsdCIsInNyYyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfaXRlbXMiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJmb3JFYWNoIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybSIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZUVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2lucHV0RWxlbWVudHMiLCJldmVyeSIsIl9kaXNhYmxlQnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiX2VuYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZXRUaW1lb3V0IiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJ3aGljaCIsImNsb3NlIiwib3BlbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9tb2RhbEZvcm0iLCJfZm9ybUlucHV0cyIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3N1Ym1pdEJ1dHRvbkVsIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwicmVzZXQiLCJlIiwiZm9ybUlucHV0cyIsImVkaXRGb3JtRWxlbWVudCIsImFkZEZvcm1FbGVtZW50IiwiZWRpdEF2YXRhckVsZW1lbnQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwiZWRpdEF2YXRhckZvcm1WYWxpZGF0b3IiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsImFzeW5jIiwicmVzcG9uc2UiLCJmZXRjaCIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfaGFuZGxlUmVzcG9uc2UiLCJhYm91dCIsIl9yZWYyIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJfcmVmMyIsIl9yZWY0IiwiY2FyZElkIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJfaGFuZGxlUmVzcG9uc2VFcnJvciIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJnZXRBcHBJbmZvIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJhdXRob3JpemF0aW9uIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJDYXJkIiwiZ2V0Q2FyZElkIiwiY29tZmlybWF0aW9uUG9wdXAiLCJzZXRTdWJtaXRBY3Rpb24iLCJkZWxldGVDYXJkQnlJZCIsInRoZW4iLCJyZW1vdmVDYXJkIiwiY2F0Y2giLCJlcnJvciIsImZpbmFsbHkiLCJjaGFuZ2VDYXJkTGlrZVN0YXR1cyIsInVzZXIiLCJjYXJkcyIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJzZXRBdmF0YXIiLCJfaW1hZ2VFbGVtZW50IiwiX2ltYWdlQ2FwdGlvbiIsImNhcmRBZGRGb3JtUG9wdXAiLCJhZGRDYXJkIiwibmV3Q2FyZCIsIl9tb2RhbEVsZW1lbnQiLCJoYW5kbGVTdWJtaXQiLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsInByb2ZpbGVFZGl0Rm9ybVBvcHVwIiwiZGF0YSIsImVkaXRVc2VySW5mbyIsInVzZXJEYXRhIiwiYXZhdGFyRm9ybU1vZGFsIiwic2V0VXNlckF2YXRhciIsImZpbGxQcm9maWxlRm9ybSJdLCJzb3VyY2VSb290IjoiIn0=